# rftf
Team Octo-Guacamole

`jstemplatemaker.js` - This is the prototype template webpage. Should run without any set up. Click and drag to make boxes. Right click inside a box to delete it. Enter label in the text box attached to the box. Save template will save a JSON file to your downloads folder.

`textract_test.py` - ~~Mostly just a demo of turning a PDF into a JPG, getting the OCR results back from Textract, and then using those results and the coordinates from a json file generated by `jstemplatemaker.js` to get labelled text data.~~ This is obsolete, but I'll leave it because it can be run locally, unlike the AWS Lambda code.

'lambdas/parse_with_template/lambda_function.py' - The AWS Lambda function that does the template parsing now. It seems to work very well.
Sample result callback from the function (Note that this was run on a handwritten form, hence the awful text extraction):

```
{
  "statusCode": 200,
  "body": {
      "Station and Location": {
        "text": "WERU So3 odut G3 N (olumble Mo",
        "handwritten": true
      },
      "Date": {
        "text": "3/9118",
        "handwritten": true
      },
      "Issue": {
        "text": "AflR",
        "handwritten": true
      }
      "Representative Signature": {
        "text": "Signature",
        "handwritten": false
      },
      "Representative Printed Name": {
        "text": "Printed Name",
        "handwritten": false
      }
   }   
 }
 ```

'lambdas/pdf2image_java/' - The directory for the Lambda Java function that converts PDFs to JPGs. Right now it just takes the PDFs from an S3 bucket and places the generated JPGs into another S3 bucket. The code is in `lambdas\pdf2image_java/src/main/java/pdf2image/PDFToImage.java`. It uses the Apache PDFBox library.


